var note={tme:function(){var e,t,a,l,r,n,o,s,c;e=new Date,a=e.getFullYear(),l=e.getMonth()+1,r=e.getDate(),n=e.getHours(),o=e.getMinutes(),s=e.getSeconds(),c=[l,r,n,o,s],t=String(a);for(var d=0;d<c.length;d++)c[d]<10?c[d]="0"+c[d]:String(c[d]),t+=c[d];return t},get:function(e){var t,a,l,r,n,o,s,c,d,i,m,u;i=["td","yd","yy","bw","bk","wz","sq","zx","h5","c3","js","py","xm","zj","sf","yl"],m=["全部","阅读","英语","备忘","博客","文章","社区","总结","HTML5","CSS3","JavaScript","Python","项目","组件","算法","原理"],l=document.getElementsByClassName("td-display")[0],l.innerHTML="",n=document.createElement("h1");for(var g=0;g<i.length;g++)e==i[g]&&(l.innerHTML=m[g]);for(var g=localStorage.length-1;g>=0;g--)localStorage.key(g).match(e)&&(t=localStorage.key(g),a=localStorage.getItem(t),r=document.createElement("pre"),r.className="td-all",r.setAttribute("data-save",t),r.innerHTML=a,l.appendChild(r),u=document.createElement("div"),u.className="td-more",u.setAttribute("data-save",t),o=document.createElement("a"),o.className="td-del",o.setAttribute("data-save",t),o.setAttribute("onclick","note.del(this)"),o.innerHTML="删除",u.appendChild(o),s=document.createElement("a"),s.className="td-mod",s.setAttribute("data-save",t),s.setAttribute("onclick","note.mod(this)"),s.innerHTML="修改",u.appendChild(s),c=document.createElement("a"),c.className="td-mov",c.setAttribute("data-save",t),c.setAttribute("onclick","note.mov(this)"),c.innerHTML="移动",u.appendChild(c),l.appendChild(u));d=document.querySelector(".td-ctrl"),d.value="打开"},getSearch:function(e){var t,a,l,r,n,o,s,c;note.get("zxx"),l=document.getElementsByClassName("td-display")[0];for(var d=localStorage.length-1;d>=0;d--)t=localStorage.key(d),a=localStorage.getItem(t),a.match(e)&&(r=document.createElement("pre"),r.className="td-all",r.setAttribute("data-save",t),r.innerHTML=a,l.appendChild(r),n=document.createElement("a"),n.className="td-del",n.setAttribute("data-save",t),n.setAttribute("onclick","note.del(this)"),n.innerHTML="删除",l.appendChild(n),o=document.createElement("a"),o.className="td-mod",o.setAttribute("data-save",t),o.setAttribute("onclick","note.mod(this)"),o.innerHTML="修改",l.appendChild(o),s=document.createElement("a"),s.className="td-mov",s.setAttribute("data-save",t),s.setAttribute("onclick","note.mov(this)"),s.innerHTML="移动",l.appendChild(s));c=document.querySelector(".td-ctrl"),c.value="打开"},add:function(){var e,t,a;e=document.getElementsByClassName("td-choose")[0].value,t=document.getElementsByClassName("td-input")[0].value,""===e||""===t?alert("内容不能为空"):(a="td_"+e+"_"+this.tme(),localStorage.setItem(a,t),this.get(e),document.getElementsByClassName("td-input")[0].value="")},del:function(e){var t,a,l;t=e.getAttribute("data-save"),l=t[3]+t[4],a=prompt("Are you sure ?"),"sure"===a?(localStorage.removeItem(t),this.get(l)):alert("删除失败")},save:function(e){var t,a,l,r;t=e.getAttribute("data-save"),a=document.querySelector("#box-dot"),r=a.innerHTML,localStorage.v=r,this.get(l)},ctrl:function(e){var t=document.querySelectorAll(".td-more");"block"===t[0].style.display?e.value="打开":e.value="关闭";for(var a=0;a<t.length;a++)""===t[a].style.display?t[a].style.display="block":t[a].style.display=""}},x=localStorage.getItem("td_welcome");x||(localStorage.setItem("td_bw_welcome","> 使用指南<br><br>+ 欢迎使用伯格笔记，你可以在左边保存笔记，或者按标签阅读笔记。<br><br>+ 删除笔记需要点击打开按钮，并且在提示框中输入sure进行确认。<br><br>+ 笔记将进行离线存储，长期有效（请勿清空浏览器）。"),localStorage.setItem("td_bw_welcome_1","> 项目地址<br><br>+ github https://github.com/bergwhite/bergnote/tree/dev<br><br>+ GPL 3.0"),localStorage.setItem("td_bw_welcome_2","> 开发者说<br><br>+ 项目还在开发阶段，还有很多设计不佳的地方有待改善（比如分类不能自定义、没有响应式布局（正在开发）和没有自动保存）<br><br>+ 有更好的建议欢迎提交issue"));var enter=function(e){13==event.keyCode&&note.getSearch(e)};