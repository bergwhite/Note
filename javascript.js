var note={tme:function(){var e,t,a,l,r,n,o,s,d;e=new Date,a=e.getFullYear(),l=e.getMonth()+1,r=e.getDate(),n=e.getHours(),o=e.getMinutes(),s=e.getSeconds(),d=[l,r,n,o,s],t=String(a);for(var c=0;c<d.length;c++)d[c]<10?d[c]="0"+d[c]:String(d[c]),t+=d[c];return t},get:function(e){var t,a,l,r,n,o,s,d,c,i,m;i=["td","yd","yy","bw","bk","wz","sq","zx","h5","c3","js","py","xm","zj","sf","yl"],m=["全部","阅读","英语","备忘","博客","文章","社区","总结","HTML5","CSS3","JavaScript","Python","项目","组件","算法","原理"],l=document.getElementsByClassName("td-display")[0],l.innerHTML="",n=document.createElement("h1");for(var u=0;u<i.length;u++)e==i[u]&&(l.innerHTML=m[u]);for(var u=localStorage.length-1;u>=0;u--)localStorage.key(u).match(e)&&(t=localStorage.key(u),a=localStorage.getItem(t),r=document.createElement("pre"),r.className="td-all",r.setAttribute("data-save",t),r.innerHTML=a,l.appendChild(r),o=document.createElement("a"),o.className="td-del",o.setAttribute("data-save",t),o.setAttribute("onclick","note.del(this)"),o.innerHTML="删除",l.appendChild(o),s=document.createElement("a"),s.className="td-mod",s.setAttribute("data-save",t),s.setAttribute("onclick","note.mod(this)"),s.innerHTML="修改",l.appendChild(s),d=document.createElement("a"),d.className="td-mov",d.setAttribute("data-save",t),d.setAttribute("onclick","note.mov(this)"),d.innerHTML="移动",l.appendChild(d));c=document.querySelector(".td-ctrl"),c.value="打开"},getSearch:function(e){var t,a,l,r,n,o,s,d;note.get("zxx"),l=document.getElementsByClassName("td-display")[0];for(var c=localStorage.length-1;c>=0;c--)t=localStorage.key(c),a=localStorage.getItem(t),a.match(e)&&(r=document.createElement("pre"),r.className="td-all",r.setAttribute("data-save",t),r.innerHTML=a,l.appendChild(r),n=document.createElement("a"),n.className="td-del",n.setAttribute("data-save",t),n.setAttribute("onclick","note.del(this)"),n.innerHTML="删除",l.appendChild(n),o=document.createElement("a"),o.className="td-mod",o.setAttribute("data-save",t),o.setAttribute("onclick","note.mod(this)"),o.innerHTML="修改",l.appendChild(o),s=document.createElement("a"),s.className="td-mov",s.setAttribute("data-save",t),s.setAttribute("onclick","note.mov(this)"),s.innerHTML="移动",l.appendChild(s));d=document.querySelector(".td-ctrl"),d.value="打开"},add:function(){var e,t,a;e=document.getElementsByClassName("td-choose")[0].value,t=document.getElementsByClassName("td-input")[0].value,""===e||""===t?alert("内容不能为空"):(a="td_"+e+"_"+this.tme(),localStorage.setItem(a,t),this.get(e),document.getElementsByClassName("td-input")[0].value="")},del:function(e){var t,a,l;t=e.getAttribute("data-save"),l=t[3]+t[4],a=prompt("Are you sure ?"),"sure"===a?(localStorage.removeItem(t),this.get(l)):alert("删除失败")},save:function(e){var t,a,l,r;t=e.getAttribute("data-save"),a=document.querySelector("#box-dot"),r=a.innerHTML,localStorage.v=r,this.get(l)},ctrl:function(e){var t=document.querySelectorAll(".td-del,.td-mod,.td-mov");"inline"===t[0].style.display?e.value="打开":e.value="关闭";for(var a=0;a<t.length;a++)""===t[a].style.display?t[a].style.display="inline":t[a].style.display=""}},x=localStorage.getItem("td_welcome");x||(localStorage.setItem("td_bw_welcome","> 使用指南<br><br>+ 欢迎使用伯格笔记，你可以在左边保存笔记，或者按标签阅读笔记。<br><br>+ 删除笔记需要点击打开按钮，并且在提示框中输入sure进行确认。<br><br>+ 笔记将进行离线存储，长期有效（请勿清空浏览器）。"),localStorage.setItem("td_bw_welcome_1","> 项目地址<br><br>+ github https://github.com/bergwhite/bergnote/tree/dev<br><br>+ GPL 3.0"),localStorage.setItem("td_bw_welcome_2","> 开发者说<br><br>+ 项目还在开发阶段，还有很多设计不佳的地方有待改善（比如删除笔记的时候布局会错乱、分类不能自定义和响应式布局）<br><br>+ 有更好的建议欢迎提交issue"));var enter=function(e){13==event.keyCode&&note.getSearch(e)};